# Курсовой проект "Операционные системы"

> TL;DR - Тут бы все переписать на С по нормальному, да лень

Реализация подобия файловой системы s5fs со встроенной поддержкой скриптов на lua,
пользовательское простратство "операционной системы" реализовано в виде программ на lua.

Работает только на Win x64

## Как запустить

1. После сборки с помощью tostool создать новый диск

```
tostool drive create -s 512 -b <РАЗМЕР_В_БАЙТАХ> disk.tos
```

2. Отформатировать созданный диск

```
tostool fs format -s 1024 --isectors <КОЛИЧЕСТВО_КЛАСТЕРОВ_ПОД_INODE> disk.tos
```

3. Загрузить пользовательское пространство на диск

```
tostool fs shell disk.tos -c "upload путь/к/папке/client /"
```

4. Запуск системы

```
tos disk.tos
```

## TODO

Если я когда-нибудь захочу вернуться к этому проекту для души, вот список:

- Переписать все по нормальному на С
- Перенести сборку на CMake, подумать над работой на Linux
- Добавить поддержку компиляции Lua-скриптов
- Разобраться с механизмом монтирования в Linux и реализовать что-то подобное
- Разобраться с устройством драйверов, реализовать что-то упрощенно подобное 